<div class="title">
  <h2>Builders</h2>
  <p>This is a complete listing of build machines leveraged by the Haiku package build system</p>
</div>

<table style="border: 1px solid black; border-spacing: 0px; width: 100%; text-align: left;">
  <thead>
    <tr style="font-size: 0.8em; background-color: #cccccc;">
      <th>Hostname</th>
      <th>Architecture</th>
      <th>Owner</th>
      <th>Location</th>
      <th>Last seen</th>
    </tr>
  </thead>

  <tbody>
    <% @builders.each do |builder| %>
      <tr style="background-color: <%= cycle('#f2f2f2', '#ffffff') -%>;">
        <td><%= link_to builder.hostname, builder %></td>
        <td><%= builder.architecture['name'] %></td>
        <td><%= builder.owner.gsub(/.{2}@.{2}/, '##@##') %></td>
        <td><%= link_to builder.location, "https://maps.google.com/maps?q=#{builder.location}", :target => "_blank" %></td>
        <% age = Time.now.to_i - builder.lastheard.to_i %>
        <td style="background-color:<%= (age >= 21600) ? "#FF9999" : "#CCFF99" %>">
        <%= time_ago_in_words(builder.lastheard) %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
